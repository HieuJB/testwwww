import{_ as Ks}from"./C-bFYicT.js";import{c as js}from"./CF2VPTuC.js";import{_ as Gs}from"./CihfQNXw.js";import{s as Qs}from"./D0xLcGF1.js";import{d as xs,p as ms,r as u,u as sa,e as j,q as ns,b as Ts,s as ws,w as Y,f as Ms,t as aa,o as S,c as E,h as n,v as t,x as p,i as l,y as Ss,F as ds,z as ls,A as g,l as oa,B as Es,m as M,E as na}from"./CnJNAMZb.js";import{O as ks,b as G}from"./DRizsLw2.js";import{g as da}from"./3bue5Vy1.js";import{A as rs}from"./Bxk5PY0E.js";import{u as Ds,a as k,d as cs,b as es,e as ts}from"./00yf2fq6.js";import{s as la}from"./C_-dA3Th.js";import{u as ra}from"./sa_3Auql.js";import{useWindowSize as ca}from"./B2gsc1f-.js";const ea=js(Gs),ta={id:"",class:"match-odds"},pa={id:""},ua={id:"CompanyOddsDiv",class:"company-comp"},ia={class:"rankbox"},_a={class:"eTable adaptMt",id:"etable-header",width:"25%",cellspacing:"0",cellpadding:"0",style:{float:"left","min-width":"135px"}},ha=n("tr",{class:"tr-title"},[n("th",{colspan:"2",rowspan:"2"},[n("b",null,"Công ty")]),n("th")],-1),fa=n("tr",{class:"tr-title"},[n("th")],-1),va={rowspan:"1"},ga={class:"rankdata w-100"},ya={class:"eTable adaptMt w-100",cellspacing:"0",cellpadding:"0",width:"100%"},ba={class:"tr-title"},Oa={colspan:"3"},Ca=n("b",null,"Sớm",-1),Na=[Ca],Ta={colspan:"3"},wa=n("b",null,"Live",-1),Ma=[wa],Sa={colspan:"3"},Ea=n("b",null,"Run Odds",-1),ka=[Ea],Da={rowspan:"2"},La=n("b",null,"Chi tiết",-1),Xa=[La],Ua={class:"tr-title"},Aa=n("th",null,"Tài",-1),Ra=n("th",null,"Phạt góc",-1),qa=n("th",null,"Xỉu",-1),Va={width:"6%"},Fa={class:"span2"},Ia={width:"6%"},Ha={class:"span2"},Pa={width:"6%"},Ba={class:"span2"},Ya={width:"6%",class:"bd-l"},za={width:"6%"},Ja={width:"6%"},Wa={width:"6%",class:"bd-l"},$a={width:"6%"},Za={width:"6%"},Ka={width:"10%",style:{"min-width":"60px"},class:"bd-l"},ja=["onClick"],Ga={id:"content-page",class:"mt-5"},Qa={key:0,class:"page_title"},xa={class:"modal fade",id:"modal_detail_win",tabindex:"-1","aria-labelledby":"modal_detail_win_label","aria-hidden":"true"},ma={class:"modal-dialog modal-dialog-centered container"},so={class:"modal-content"},ao={class:"modal-header"},oo={class:"modal-title",id:"modal_detail_win_label"},no={class:"modal-body"},lo={id:"",class:"layui-layer-content detail_win"},ro={class:"popinfo"},co={class:"modal fade",id:"modal_filter_comp",tabindex:"-1","aria-labelledby":"modal_filter_comp_label","aria-hidden":"true"},eo={class:"modal-dialog modal-dialog-centered"},to={class:"modal-content"},po=n("div",{class:"modal-title",id:"modal_filter_comp_label"}," Chọn công ty ",-1),uo={class:"modal-body"},io={class:"layui-layer-content oddscomp-filterwin"},_o={id:"oddscompFilterWin",class:"popinfo"},ho=["value","onClick"],fo=n("i",{class:"check-circled"},null,-1),vo={id:"winTips",class:"tips"},go={class:"modal-footer",style:{display:"none"}},yo=["disabled"],Xo=xs({__name:"[match_id]",props:{matchTitle:{},matchTitleModifiers:{},matchContent:{},matchContentModifiers:{},initDataMatch:{},initDataMatchModifiers:{}},emits:ms(["socketData"],["update:matchTitle","update:matchContent","update:initDataMatch"]),async setup(Q,{emit:Ls}){var Os,Cs;let z,J;const{width:Xs}=ca(),Us=Ls,x=Qs();la();const W=ra(),As=u(),h=sa(),ps=u(!1),us=u([]),Rs=u(),qs=u(ks),$=u(""),m=u("ahDetail"),C=u(j("oCompanyOddSelected").value?j("oCompanyOddSelected").value:[]),Z=u([]),N=u([]),is=u([]),K=u([]);G.forEach(o=>{Z.value[o==null?void 0:o.id]=!!C.value.includes(o==null?void 0:o.id)});const _s=u();u([]);const hs=u(),Vs=u(((Os=h==null?void 0:h.query)==null?void 0:Os.type)||""),D=u(1),fs=u(!1),vs=u(Date.now()),Fs=u([{id:1,name:"Sớm"},{id:2,name:"Live"},{id:3,name:"Run Odds"}]),gs=ns(Q,"matchTitle"),Is=ns(Q,"matchContent"),Hs=ns(Q,"initDataMatch"),f=Ts(()=>Xs.value<=768),T=Ts(()=>({first:f.value?D.value===1:!0,second:f.value?D.value===2:!0,third:f.value?D.value===3:!0})),ss=ws({modal_detail_win:null}),Ps=async(o,d)=>{hs.value=o,_s.value=d,m.value="cornertx",vs.value=Date.now(),await Zs(),ss.modal_detail_win.show()};function Bs(){m.value="",ss.modal_detail_win.hide()}const ys=ws({modal_filter_comp:null});function Ys(){ys.modal_filter_comp.hide()}const as=j("settingsData");u(da(x==null?void 0:x.configurations,"TIMEZONE")||((Cs=as==null?void 0:as.value)==null?void 0:Cs.timeZone));const zs=async()=>{var e;let o=Hs.value;us.value.match=o==null?void 0:o[0];const d=(e=o==null?void 0:o[0])==null?void 0:e.i_match_id;d&&Js(d,qs.value)},Js=async(o,d=ks)=>{await Ds(rs.LIVESCORE.ODDS_DETAIL,{i_match_id:o,i_company_id:d}).then(e=>{Rs.value=e})},Ws=o=>{var d;if(Z.value[o]=!Z.value[o],Z.value[o])(d=C.value)!=null&&d.includes(o)||C.value.push(o);else{const e=C.value.indexOf(o,0);e>-1&&C.value.splice(e,1)}j("oCompanyOddSelected").value=JSON.stringify(C.value)},bs=async()=>{await Ds((ps.value===!1?rs.LIVESCORE.ODDS_CONNER_FULL:rs.LIVESCORE.ODDS_CONNER_HAFT)+"?match_id="+$.value).then(o=>{var e;const d=[];(e=G)==null||e.forEach(a=>{var y,b,O,_,s,r;d[a==null?void 0:a.isportsapi]=[],d[a==null?void 0:a.isportsapi].id=a==null?void 0:a.id,d[a==null?void 0:a.isportsapi].isportsapi=a==null?void 0:a.isportsapi,d[a==null?void 0:a.isportsapi].name=a==null?void 0:a.name,d[a==null?void 0:a.isportsapi].first=(b=(y=o==null?void 0:o.data)==null?void 0:y.early)==null?void 0:b.find(v=>v.i_company_id===(a==null?void 0:a.isportsapi)),d[a==null?void 0:a.isportsapi].live=(_=(O=o==null?void 0:o.data)==null?void 0:O.live)==null?void 0:_.find(v=>v.i_company_id===(a==null?void 0:a.isportsapi)),d[a==null?void 0:a.isportsapi].run=(r=(s=o==null?void 0:o.data)==null?void 0:s.run)==null?void 0:r.find(v=>v.i_company_id===(a==null?void 0:a.isportsapi)),typeof d[a==null?void 0:a.isportsapi].first>"u"&&typeof d[a==null?void 0:a.isportsapi].live>"u"&&typeof d[a==null?void 0:a.isportsapi].run>"u"&&typeof d[a==null?void 0:a.isportsapi].first>"u"&&typeof d[a==null?void 0:a.isportsapi].live>"u"&&typeof d[a==null?void 0:a.isportsapi].run>"u"&&typeof d[a==null?void 0:a.isportsapi].first>"u"&&typeof d[a==null?void 0:a.isportsapi].live>"u"&&typeof d[a==null?void 0:a.isportsapi].run>"u"&&(d[a==null?void 0:a.isportsapi].isEmpty=!0)}),K.value=d})};Y(()=>h==null?void 0:h.query,()=>{var o;Vs.value=((o=h==null?void 0:h.query)==null?void 0:o.type)||""},{immediate:!0}),Y(()=>h,o=>{var e;const d=(e=o==null?void 0:o.path)==null?void 0:e.match(/[^/-]+$/);$.value=d?d[0]:""},{immediate:!0}),Y(()=>h.query,async()=>{var o;ps.value=((o=h.query)==null?void 0:o.haft)==1,await bs($.value)},{immediate:!0}),Y(()=>h.query,()=>{var y,b,O,_;const o=((y=h.query)==null?void 0:y.haft)==1?"europeanHaft":"europeOdds",d=((b=h.query)==null?void 0:b.haft)==1?"handicapHalf":"handicap",e=((O=h.query)==null?void 0:O.haft)==1?"overUnderHalf":"overUnder",a=[];(_=G)==null||_.forEach(s=>{var r,v,i,w,L,X,U,A,R,q,V,F,I,H,P,B,os,Ns;a[s==null?void 0:s.isportsapi]=[],a[s==null?void 0:s.isportsapi].id=s==null?void 0:s.id,a[s==null?void 0:s.isportsapi].isportsapi=s==null?void 0:s.isportsapi,a[s==null?void 0:s.isportsapi].name=s==null?void 0:s.name,a[s==null?void 0:s.isportsapi].handicap=[],a[s==null?void 0:s.isportsapi].handicap.first=(v=(r=N.value)==null?void 0:r.find(c=>c.i_company_id===(s==null?void 0:s.isportsapi)&&c.type===d))==null?void 0:v.initial,a[s==null?void 0:s.isportsapi].handicap.live=(w=(i=N.value)==null?void 0:i.find(c=>c.i_company_id===(s==null?void 0:s.isportsapi)&&c.type===d))==null?void 0:w.instant,a[s==null?void 0:s.isportsapi].handicap.run=(X=(L=N.value)==null?void 0:L.find(c=>c.i_company_id===(s==null?void 0:s.isportsapi)&&c.type===d))==null?void 0:X.inplay,a[s==null?void 0:s.isportsapi].europeOdds=[],a[s==null?void 0:s.isportsapi].europeOdds.first=(A=(U=N.value)==null?void 0:U.find(c=>c.i_company_id===(s==null?void 0:s.isportsapi)&&c.type===o))==null?void 0:A.initial,a[s==null?void 0:s.isportsapi].europeOdds.live=(q=(R=N.value)==null?void 0:R.find(c=>c.i_company_id===(s==null?void 0:s.isportsapi)&&c.type===o))==null?void 0:q.instant,a[s==null?void 0:s.isportsapi].europeOdds.run=(F=(V=N.value)==null?void 0:V.find(c=>c.i_company_id===(s==null?void 0:s.isportsapi)&&c.type===o))==null?void 0:F.inplay,a[s==null?void 0:s.isportsapi].overUnder=[],a[s==null?void 0:s.isportsapi].overUnder.first=(H=(I=N.value)==null?void 0:I.find(c=>c.i_company_id===(s==null?void 0:s.isportsapi)&&c.type===e))==null?void 0:H.initial,a[s==null?void 0:s.isportsapi].overUnder.live=(B=(P=N.value)==null?void 0:P.find(c=>c.i_company_id===(s==null?void 0:s.isportsapi)&&c.type===e))==null?void 0:B.instant,a[s==null?void 0:s.isportsapi].overUnder.run=(Ns=(os=N.value)==null?void 0:os.find(c=>c.i_company_id===(s==null?void 0:s.isportsapi)&&c.type===e))==null?void 0:Ns.inplay,typeof a[s==null?void 0:s.isportsapi].handicap.first>"u"&&typeof a[s==null?void 0:s.isportsapi].handicap.live>"u"&&typeof a[s==null?void 0:s.isportsapi].handicap.run>"u"&&typeof a[s==null?void 0:s.isportsapi].europeOdds.first>"u"&&typeof a[s==null?void 0:s.isportsapi].europeOdds.live>"u"&&typeof a[s==null?void 0:s.isportsapi].europeOdds.run>"u"&&typeof a[s==null?void 0:s.isportsapi].overUnder.first>"u"&&typeof a[s==null?void 0:s.isportsapi].overUnder.live>"u"&&typeof a[s==null?void 0:s.isportsapi].overUnder.run>"u"&&(a[s==null?void 0:s.isportsapi].isEmpty=!0)}),is.value=a},{immediate:!0});const $s=o=>{var d,e,a,y,b,O;try{if(o){const _=o;try{if(As.value=_,Us("socketData",_),_!=null&&_.topic&&_.topic=="livescore/football/iodds_corner/v1"){const s=_.payload.inplay;if(s)for(const r of s){const v=r==null?void 0:r.companyId;if((r==null?void 0:r.matchId)==((e=(d=us.value)==null?void 0:d.match)==null?void 0:e.i_match_id)){const i=(a=K.value)==null?void 0:a.find(w=>(w==null?void 0:w.isportsapi)==v);i&&(i!=null&&i.run||(i.run=[]),i.run_older=i!=null&&i.run?JSON.parse(JSON.stringify(i==null?void 0:i.run)):[],i.run={i_company_id:v,over:(y=r==null?void 0:r.odds)==null?void 0:y.over,total_corners:(b=r==null?void 0:r.odds)==null?void 0:b.totalCorners,under:(O=r==null?void 0:r.odds)==null?void 0:O.under})}}}}catch{return!1}}}catch{return!1}};Y(W,()=>{$s(W==null?void 0:W.socketData)},{deep:!0,immediate:!0}),[z,J]=Ms(()=>zs()),await z,J(),[z,J]=Ms(()=>bs()),await z,J();const Zs=async()=>{fs.value||(fs.value=!0,await na(),ys.modal_filter_comp=new bootstrap.Modal("#modal_filter_comp",{}),ss.modal_detail_win=new bootstrap.Modal("#modal_detail_win",{}))};return aa(async()=>{}),(o,d)=>{var y,b,O,_;const e=Ks,a=ea;return S(),E("div",ta,[n("div",pa,[n("div",ua,[t(Ss(e,{titleList:Fs.value,modelValue:D.value,"onUpdate:modelValue":d[0]||(d[0]=s=>D.value=s)},null,8,["titleList","modelValue"]),[[p,l(f)]]),n("div",ia,[n("table",_a,[n("tbody",null,[ha,fa,(S(!0),E(ds,null,ls((y=K.value)==null?void 0:y.filter(s=>s!==null&&!(s!=null&&s.isEmpty)),(s,r)=>(S(),E("tr",{class:M((r%2!==0,"tb-bgcolor1"))},[n("td",va,[n("span",null,g(s==null?void 0:s.name),1)])],2))),256))])]),n("div",ga,[n("table",ya,[n("tbody",null,[n("tr",ba,[t(n("th",Oa,Na,512),[[p,!l(f)]]),t(n("th",Ta,Ma,512),[[p,!l(f)]]),t(n("th",Sa,ka,512),[[p,!l(f)]]),t(n("th",Da,Xa,512),[[p,!l(f)]])]),n("tr",Ua,[Aa,Ra,qa,t(n("th",null,"Tài",512),[[p,!l(f)]]),t(n("th",null,"Phạt góc",512),[[p,!l(f)]]),t(n("th",null,"Xỉu",512),[[p,!l(f)]]),t(n("th",null,"Tài",512),[[p,!l(f)]]),t(n("th",null,"Phạt góc",512),[[p,!l(f)]]),t(n("th",null,"Xỉu",512),[[p,!l(f)]]),t(n("th",null,"Chi tiết",512),[[p,l(f)]])]),(S(!0),E(ds,null,ls((b=K.value)==null?void 0:b.filter(s=>s!==null&&!(s!=null&&s.isEmpty)),(s,r)=>{var v,i,w,L,X,U,A,R,q,V,F,I,H,P,B;return S(),E("tr",{name:"oddsTr",style:{"text-align":"center"},cid:"3",class:M((r%2!==0,"tb-bgcolor1"))},[t(n("td",Va,[n("span",Fa,g(("getOddNumberToNegativeTX"in o?o.getOddNumberToNegativeTX:l(k))((v=s==null?void 0:s.first)==null?void 0:v.over)),1)],512),[[p,l(T).first]]),t(n("td",Ia,[n("span",Ha,g(("getOddNumber"in o?o.getOddNumber:l(cs))((i=s==null?void 0:s.first)==null?void 0:i.total_corners)),1)],512),[[p,l(T).first]]),t(n("td",Pa,[n("span",Ba,g(("getOddNumberToNegativeTX"in o?o.getOddNumberToNegativeTX:l(k))((w=s==null?void 0:s.first)==null?void 0:w.under)),1)],512),[[p,l(T).first]]),t(n("td",Ya,[n("span",{class:M(["span2",("getOddChange"in o?o.getOddChange:l(es))((L=s==null?void 0:s.live)==null?void 0:L.over,(X=s==null?void 0:s.first)==null?void 0:X[1])])},g(("getOddNumberToNegativeTX"in o?o.getOddNumberToNegativeTX:l(k))((U=s==null?void 0:s.live)==null?void 0:U.over)),3)],512),[[p,l(T).second]]),t(n("td",za,[n("span",{class:M(["span2",("getOddChange"in o?o.getOddChange:l(es))((A=s==null?void 0:s.live)==null?void 0:A.total_corners,(R=s==null?void 0:s.first)==null?void 0:R.total_corners)])},g(("getOddNumber"in o?o.getOddNumber:l(cs))((q=s==null?void 0:s.live)==null?void 0:q.total_corners)),3)],512),[[p,l(T).second]]),t(n("td",Ja,[n("span",{class:M(["span2",("getOddChange"in o?o.getOddChange:l(es))((V=s==null?void 0:s.live)==null?void 0:V.under,(F=s==null?void 0:s.first)==null?void 0:F.under)])},g(("getOddNumberToNegativeTX"in o?o.getOddNumberToNegativeTX:l(k))((I=s==null?void 0:s.live)==null?void 0:I.under)),3)],512),[[p,l(T).second]]),t(n("td",Wa,[n("span",{class:M(["span2",("getClassOddCornerChange"in o?o.getClassOddCornerChange:l(ts))(s,"over")])},g(("getOddNumberToNegativeTX"in o?o.getOddNumberToNegativeTX:l(k))((H=s==null?void 0:s.run)==null?void 0:H.over)),3)],512),[[p,l(T).third]]),t(n("td",$a,[n("span",{class:M(["span2",("getClassOddCornerChange"in o?o.getClassOddCornerChange:l(ts))(s,"total_corners")])},g(("getOddNumber"in o?o.getOddNumber:l(cs))((P=s==null?void 0:s.run)==null?void 0:P.total_corners)),3)],512),[[p,l(T).third]]),t(n("td",Za,[n("span",{class:M(["span2",("getClassOddCornerChange"in o?o.getClassOddCornerChange:l(ts))(s,"under")])},g(("getOddNumberToNegativeTX"in o?o.getOddNumberToNegativeTX:l(k))((B=s==null?void 0:s.run)==null?void 0:B.under)),3)],512),[[p,l(T).third]]),n("td",Ka,[n("span",{class:"odd_a",onClick:os=>Ps(s==null?void 0:s.isportsapi,s==null?void 0:s.name)},"Thay đổi",8,ja)])],2)}),256))])])])])]),n("div",Ga,[gs.value?(S(),E("h1",Qa,g(gs.value),1)):oa("",!0),Es(" "+g(Is.value),1)])]),n("div",xa,[n("div",ma,[n("div",so,[n("div",ao,[n("div",oo,g(_s.value)+" Tỷ lệ thay đổi ",1),n("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:Bs})]),n("div",no,[n("div",lo,[n("div",ro,[Ss(a,{"odd-comp-id":hs.value,"match-id":$.value,section:m.value,"odd-companys-list":is.value,"refresh-time":vs.value},null,8,["odd-comp-id","match-id","section","odd-companys-list","refresh-time"])])])])])])]),n("div",co,[n("div",eo,[n("div",to,[n("div",{class:"modal-header"},[po,n("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:Ys})]),n("div",uo,[n("div",io,[n("ul",_o,[(S(!0),E(ds,null,ls("ODD_COMPANYS"in o?o.ODD_COMPANYS:l(G),(s,r)=>(S(),E("li",{class:M(["complist",C.value.includes(s==null?void 0:s.id)?"on":""]),key:r,value:s==null?void 0:s.id,onClick:v=>Ws(s==null?void 0:s.id)},[fo,Es(" "+g(s==null?void 0:s.name),1)],10,ho))),128))]),t(n("div",vo,"*Chọn ít nhất 1 công ty",512),[[p,((O=C.value)==null?void 0:O.length)===0]])])]),n("div",go,[n("button",{type:"button",class:"btn btn-primary",disabled:((_=C.value)==null?void 0:_.length)===0},"OK",8,yo)])])])])])}}});export{Xo as _};
