import{d as j,r as i,J as D,b as X,f as Y,g as q,w as z,t as J,o as r,c as _,h as o,A as h,F as $,z as G,y as K,K as Q,i as y,m as Z,l as I,L as ee,_ as te,j as ae}from"./CnJNAMZb.js";import{g as W}from"./3bue5Vy1.js";import{C as ne,S as f}from"./DRizsLw2.js";import{R as se,a as x,A}from"./Bxk5PY0E.js";import{c as M}from"./7sItJrXI.js";import{a as oe}from"./Cbzb-SDH.js";import{_ as ie,a as le}from"./CnAzBXKT.js";import{s as ce}from"./D0xLcGF1.js";import"./C4iS2aBk.js";const re={class:"mcontent"},ue={id:"main",class:"listpage container"},_e={class:"newsbox"},de={class:"Htitle",id:"tag"},ve={class:"news row d-flex",id:"alist"},me={class:"artimg"},he=["src","alt"],fe={class:"match"},ge={class:"time"},Te={key:0,class:"pagination-container mt-4 d-flex justify-content-center"},we=["disabled"],ye=o("img",{src:ie,width:"20px",height:"20px"},null,-1),Ce=[ye],pe=["disabled","onClick"],Se=["disabled"],be=o("img",{src:le,width:"20px",height:"20px"},null,-1),Ee=[be],Re={key:1,id:"content-page",class:"mt-3 newsbox p-3"},ke=j({__name:"TagPost",async setup(U){let C,g;const T=ce(),L=i([]),c=i(1),N=i(ne),w=i(0),F=D(),v=i([]);i(!1);const m=F.currentRoute.value.params.tag,s=i([]),p=W(T.configurations,"image_size");s.value=p==null?void 0:p.split(",");const u=i(0),S=i(),b=i(),E=i(),O=X(()=>{var a,t,l;return u.value<f.MD&&((a=s==null?void 0:s.value)==null?void 0:a.length)>=1?s.value[1]:u.value>=f.MD&&u.value<f.LG&&((t=s==null?void 0:s.value)==null?void 0:t.length)>=2?s.value[2]:u.value>=f.LG&&u.value<f.XXL&&((l=s==null?void 0:s.value)==null?void 0:l.length)>=3?s.value[3]:""}),R=a=>{c.value=a,k(m)},k=async a=>{var t,l;try{const{data:n}=await x(A.POST.LIST,{params:{tag_code:a,limit:N.value,page:c.value}},"$YfM77AMoWF");L.value=(t=n==null?void 0:n.value)==null?void 0:t.posts,w.value=Math.ceil(((l=n==null?void 0:n.value)==null?void 0:l.count_all)/N.value)}catch(n){console.error(n)}},B=async a=>{try{await x(M(A.POST.TAG.SLUG+a,{}),"$9z3A1WvLvk").then(t=>{var l,n,e,d;v.value=(l=t==null?void 0:t.data)==null?void 0:l.value,S.value=(n=v.value)==null?void 0:n.name,b.value=((e=v.value)==null?void 0:e.meta_description)??((d=v.value)==null?void 0:d.name)})}catch{}},H=()=>{E.value=W(T.configurations,"NEWS_CONTENT_TAG")??""},V=async()=>{var a;try{const t=await x(M(A.CONFIGURATIONS),"$EpTEmqgbac");T.configurations=((a=t.data.value)==null?void 0:a.configurations)||[]}catch{}};return T.configurations||([C,g]=Y(()=>V()),await C,g()),B(m),H(),q({title:()=>S.value,meta:[{name:"description",content:()=>b.value},{property:"og:title",content:()=>S.value},{property:"og:description",content:()=>b.value}]}),z(()=>m,()=>{k(m)}),k(m),J(()=>{u.value=window.innerWidth,window.addEventListener("resize",()=>{u.value=window.innerWidth})}),(a,t)=>{var n;const l=ee;return r(),_("div",re,[o("div",ue,[o("div",_e,[o("h1",de,h((n=v.value)==null?void 0:n.name),1),o("ul",ve,[(r(!0),_($,null,G(L.value,e=>(r(),_("li",{key:e==null?void 0:e.id,class:"article col-12 col-sm-6 col-lg-3"},[K(l,{to:("ROUTERS"in a?a.ROUTERS:y(se)).NEWS+"/"+(e==null?void 0:e.slug)},{default:Q(()=>{var d,P;return[o("div",me,[o("img",{src:y(O)?`${(d=e==null?void 0:e.thumbnail)==null?void 0:d.file_path}!${y(O)}`:(P=e==null?void 0:e.thumbnail)==null?void 0:P.file_path,alt:e.title},null,8,he)]),o("h2",fe,h(e==null?void 0:e.title),1)]}),_:2},1032,["to"]),o("div",ge,[o("span",null,h(e!=null&&e.post_date?("formatTimeSince"in a?a.formatTimeSince:y(oe))(e==null?void 0:e.post_date):""),1)])]))),128))]),w.value>0?(r(),_("div",Te,[o("button",{disabled:c.value<=1,onClick:t[0]||(t[0]=e=>R(c.value-1))},Ce,8,we),(r(!0),_($,null,G(w.value,e=>(r(),_("button",{key:e,disabled:e===c.value,onClick:d=>R(e),class:Z(e===c.value?"on":"")},h(e),11,pe))),128)),o("button",{disabled:c.value>=w.value,onClick:t[1]||(t[1]=e=>R(c.value+1))},Ee,8,Se)])):I("",!0),E.value?(r(),_("div",Re,h(E.value),1)):I("",!0)])])])}}}),xe={};function Ae(U,C){const g=ke;return r(),ae(g)}const Ue=te(xe,[["render",Ae]]);export{Ue as default};
