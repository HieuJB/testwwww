import{N as ee,bL as q,bI as te,aN as c,cX as ae,bG as se,bJ as D,bR as U,s as ne,cY as b,bx as B,cR as oe,bt as le,az as ce,o as r,c as d,J as F,w as n,b4 as T,F as $,aQ as V,by as ie,bd as y,cZ as ue,aq as re,v as H,cV as P,ca as W,cW as X,c_ as Y,cU as _e,bW as de,u as ve}from"./BCYEZECI.js";import{_ as me,a as he}from"./BsBkQ-Ww.js";const ge={class:"mcontent"},fe={id:"main",class:"listpage container"},be={class:"newsbox"},Te={class:"Htitle",id:"tag"},we={class:"news row d-flex",id:"alist"},Ce={class:"artimg"},ye=["src","alt"],xe={class:"match"},Ne={class:"time"},Ee={key:0,class:"pagination-container mt-4 d-flex justify-content-center"},Se=["disabled"],Le=n("img",{src:me,width:"20px",height:"20px"},null,-1),ke=[Le],pe=["disabled","onClick"],Re=["disabled"],$e=n("img",{src:he,width:"20px",height:"20px"},null,-1),Pe=[$e],We={key:1,id:"content-page",class:"mt-3 newsbox p-3"},Ae=ee({__name:"TagPost",async setup(J){let v,m;const{useLocale:A,$t:h,$trouter:j}=q(),w=te(),G=c([]),u=c(1),O=c(ae),C=c(0),z=se(),g=c([]);c(!1);const f=z.currentRoute.value.params.tag,o=c([]),x=D(w.configurations,"image_size");o.value=x==null?void 0:x.split(",");const _=c(0),N=c(),E=c(),S=c(),L=c([{label:h("News"),to:j(U.NEWS),last:"off"},{label:"",to:"",last:"on"}]),I=ne(()=>{var s,t,i;return _.value<b.MD&&((s=o==null?void 0:o.value)==null?void 0:s.length)>=1?o.value[1]:_.value>=b.MD&&_.value<b.LG&&((t=o==null?void 0:o.value)==null?void 0:t.length)>=2?o.value[2]:_.value>=b.LG&&_.value<b.XXL&&((i=o==null?void 0:o.value)==null?void 0:i.length)>=3?o.value[3]:""}),k=s=>{u.value=s,p(f)},p=async s=>{var t,i;try{const{data:l}=await P(W.POST.LIST,{params:{tag_code:s,limit:O.value,page:u.value}},"$YfM77AMoWF");G.value=(t=l==null?void 0:l.value)==null?void 0:t.posts,C.value=Math.ceil(((i=l==null?void 0:l.value)==null?void 0:i.count_all)/O.value)}catch(l){console.error(l)}},Q=async s=>{var t,i,l;try{const{data:a}=await P(X(W.POST.TAG.SLUG+s,{}),"$9z3A1WvLvk");a!=null&&a.value||Y({statusCode:404,statusMessage:h("Tag does not exist")}),g.value=a==null?void 0:a.value,L.value[1].label=a==null?void 0:a.value.name,L.value[1].to=U.NEWS_TAG+"/"+(a==null?void 0:a.value.code),N.value=(t=g.value)==null?void 0:t.name,E.value=((i=g.value)==null?void 0:i.meta_description)??((l=g.value)==null?void 0:l.name)}catch{Y({statusCode:404,statusMessage:h("Tag does not exist")})}},Z=()=>{S.value=D(w.configurations,"NEWS_CONTENT_TAG")??""},K=async()=>{var s;try{const t=await P(X(W.CONFIGURATIONS),"$EpTEmqgbac");w.configurations=((s=t.data.value)==null?void 0:s.configurations)||[]}catch{}};return w.configurations||([v,m]=B(()=>K()),await v,m()),[v,m]=B(()=>Q(f)),await v,m(),Z(),oe({title:()=>N.value,meta:[{name:"description",content:()=>E.value},{property:"og:title",content:()=>N.value},{property:"og:description",content:()=>E.value}]}),le(()=>f,()=>{p(f)}),p(f),ce(()=>{_.value=window.innerWidth,window.addEventListener("resize",()=>{_.value=window.innerWidth})}),(s,t)=>{var a;const i=_e,l=de;return r(),d($,null,[F(i,{breadcrumbs:L.value,isCustom:""},null,8,["breadcrumbs"]),n("div",ge,[n("div",fe,[n("div",be,[n("h1",Te,T((a=g.value)==null?void 0:a.name),1),n("ul",we,[(r(!0),d($,null,V(G.value,e=>(r(),d("li",{key:e==null?void 0:e.id,class:"article col-12 col-sm-6 col-lg-3"},[F(l,{to:"/"+(e==null?void 0:e.slug)},{default:ie(()=>{var R,M;return[n("div",Ce,[n("img",{src:y(I)?`${(R=e==null?void 0:e.thumbnail)==null?void 0:R.file_path}!${y(I)}`:(M=e==null?void 0:e.thumbnail)==null?void 0:M.file_path,alt:e.title},null,8,ye)]),n("h2",xe,T(e==null?void 0:e.title),1)]}),_:2},1032,["to"]),n("div",Ne,[n("span",null,T(e!=null&&e.post_date?("formatTimeSince"in s?s.formatTimeSince:y(ue))(e==null?void 0:e.post_date,y(A)):""),1)])]))),128))]),C.value>0?(r(),d("div",Ee,[n("button",{disabled:u.value<=1,onClick:t[0]||(t[0]=e=>k(u.value-1))},ke,8,Se),(r(!0),d($,null,V(C.value,e=>(r(),d("button",{key:e,disabled:e===u.value,onClick:R=>k(e),class:re(e===u.value?"on":"")},T(e),11,pe))),128)),n("button",{disabled:u.value>=C.value,onClick:t[1]||(t[1]=e=>k(u.value+1))},Pe,8,Re)])):H("",!0),S.value?(r(),d("div",We,T(S.value),1)):H("",!0)])])])],64)}}}),Ie={__name:"[tag]",setup(J){const{isNavVisible:v}=q();return v.value=!1,(m,A)=>{const h=Ae;return r(),ve(h)}}};export{Ie as default};
